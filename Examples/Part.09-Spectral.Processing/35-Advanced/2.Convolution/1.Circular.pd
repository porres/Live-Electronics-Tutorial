#N canvas 555 85 900 438 12;
#X declare -path else;
#X obj 89 270 r~ \$0-sample1;
#X obj 251 269 r~ \$0-sample2;
#X obj 714 245 r~ \$0-sample2;
#X obj 556 245 r~ \$0-sample1;
#X obj 286 90 hradio 15 1 0 8 empty \$0-size empty 0 -8 0 10 -228856
-1 -1 4;
#X obj 286 138 nbx 5 14 64 1e+37 0 0 \$0-w_size \$0-w_size-set empty
0 -8 0 10 -228856 -1 -1 2048 256;
#N canvas 550 30 347 301 Window 0;
#X obj 111 176 s \$0-set-block;
#X obj 79 86 t b f;
#X obj 111 122 v w_size_\$0;
#X obj 79 42 inlet;
#X msg 111 149 set \$1 4;
#X obj 226 116 initmess \; \$0-size 4;
#X connect 1 0 2 0;
#X connect 1 1 2 0;
#X connect 2 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 0 0;
#X coords 0 0 1 1 120 60 0;
#X restore 286 160 pd Window;
#X obj 286 113 expr pow(2 \, $f1 + 7);
#X obj 251 313 out~;
#X text 346 136 window size;
#X obj 556 322 out~;
#N canvas 377 23 813 561 Circular-Convolutoin 0;
#X obj 54 64 inlet~;
#X obj 142 64 inlet~;
#X text 50 40 Sample 1;
#X text 133 37 Sample 2;
#X obj 99 495 outlet~;
#X obj 54 168 rfft~;
#X obj 142 168 rfft~;
#X obj 91 264 *~;
#X obj 144 263 +~;
#X obj 99 354 rifft~;
#X text 414 151 Re = (Re1 * Re2) - (Im1 * Im2) \; Im = (Im1 * Re2)
+ (Re1 * Im2);
#X obj 184 331 r \$0-set-block;
#X obj 184 358 block~;
#X obj 54 211 car2pol~;
#X obj 91 308 pol2car~;
#X obj 54 118 hann~;
#X obj 142 122 hann~;
#X obj 99 399 hann~;
#X obj 142 211 car2pol~;
#X obj 509 278 expr~ ($v1 * $v3) - ($v2 * $v4) \; ($v2 * $v3) + ($v1
* $v4);
#X obj 509 230 rfft~;
#X obj 656 230 rfft~;
#X obj 595 354 rifft~;
#X obj 155 446 expr 1 / ($f1 * 1.5);
#X obj 99 446 *~;
#X obj 155 419 blocksize~;
#X text 330 49 The properties of complex math says that a multiplication
is done in the polar form by multiplying the amplitudes and suming
the phases.;
#X obj 357 293 *~;
#X obj 389 293 *~;
#X obj 357 320 -~;
#X obj 422 293 *~;
#X obj 454 293 *~;
#X obj 436 325 +~;
#X obj 357 226 rfft~;
#X obj 440 223 rfft~;
#X obj 397 364 rifft~;
#X text 330 99 Let's remember how the complex multiplication works
in the cartesian form \, here's the formula below and how to implement
with native Pd objects:;
#X text 364 416 The cartesian form is more accurate and efficient.
For optimal efficiency you can also use the [cmul~] object from the
ELSE library.;
#X obj 587 477 cmul~;
#X connect 0 0 15 0;
#X connect 1 0 16 0;
#X connect 5 0 13 0;
#X connect 5 1 13 1;
#X connect 6 0 18 0;
#X connect 6 1 18 1;
#X connect 7 0 14 0;
#X connect 8 0 14 1;
#X connect 9 0 17 0;
#X connect 11 0 12 0;
#X connect 13 0 7 0;
#X connect 13 1 8 0;
#X connect 14 0 9 0;
#X connect 14 1 9 1;
#X connect 15 0 5 0;
#X connect 16 0 6 0;
#X connect 17 0 24 0;
#X connect 18 0 7 1;
#X connect 18 1 8 1;
#X connect 19 0 22 0;
#X connect 19 1 22 1;
#X connect 20 0 19 0;
#X connect 20 1 19 1;
#X connect 21 0 19 2;
#X connect 21 1 19 3;
#X connect 23 0 24 1;
#X connect 24 0 4 0;
#X connect 25 0 23 0;
#X connect 27 0 29 0;
#X connect 28 0 29 1;
#X connect 29 0 35 0;
#X connect 30 0 32 0;
#X connect 31 0 32 1;
#X connect 32 0 35 1;
#X connect 33 0 27 0;
#X connect 33 0 31 0;
#X connect 33 1 28 0;
#X connect 33 1 30 0;
#X connect 34 0 27 1;
#X connect 34 0 30 1;
#X connect 34 1 31 1;
#X connect 34 1 28 1;
#X restore 556 288 pd Circular-Convolutoin;
#X text 483 157 Here we have an example of a circular convolution \,
we'll see the linear example next. The result of this example is a
hybrid that combines both amplitude and phase information. Open the
subpatch below., f 54;
#X obj 89 309 out~;
#X text 483 69 The convolution of two signals can be implemented via
a complex multiplication of two FFT analysis. As any other multiplication
\, this is a commutative operation. That is \, it doesn't matter if
you're convolution A with B or B with A \, it's the same output.,
f 54;
#X obj 642 27 declare -path else;
#X obj 45 111 s~ \$0-sample1;
#X obj 43 190 s~ \$0-sample2;
#X obj 43 158 play.file~ numbers.wav 1 1;
#X obj 45 78 play.file~ 1 kantele.wav 1 1;
#X connect 0 0 13 0;
#X connect 1 0 8 0;
#X connect 2 0 11 1;
#X connect 3 0 11 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 7 0 5 0;
#X connect 11 0 10 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
