#N canvas 130 38 1185 650 12;
#X declare -path else;
#X obj 500 175 setdsp~;
#X obj 741 40 declare -path else;
#X floatatom 713 285 5 0 0 0 - - - 0;
#X obj 713 245 expr 1000./$f1;
#X floatatom 713 211 5 10 125 0 - - - 0;
#X obj 631 378 graph~ 10000 3 -0.025 1.025 200 140;
#X obj 631 238 pulse~ 4;
#X obj 212 414 hz2rad;
#X obj 52 163 pulse~ 4;
#X obj 392 377 graph~ 10000 3 -0.025 1.025 200 140;
#X obj 212 346 expr 1000./$f1;
#X floatatom 212 312 5 10 125 0 - - - 0;
#X floatatom 212 444 0 0 0 0 - - - 0;
#X obj 212 277 initmess 125;
#X text 254 312 ms;
#X floatatom 212 384 5 10 125 0 - - - 0;
#X text 254 385 Hz;
#X text 752 210 ms;
#X obj 631 326 slop~, f 20;
#X text 518 83 If you want the same lag time for both rising and falling sections \, you can have the slew limits high and just use the 'f' input as in the last example.;
#X obj 502 324 v f_up;
#X obj 436 324 v f_down;
#X obj 459 286 v delta;
#X obj 212 476 v f_up;
#X obj 52 205 fexpr~ delta = $x - $y2 \; $y2 + if(delta > 0 \, f_up * delta \, f_down * delta);
#X obj 92 414 hz2rad;
#X obj 92 346 expr 1000./$f1;
#X floatatom 92 312 5 10 125 0 - - - 0;
#X floatatom 92 444 0 0 0 0 - - - 0;
#X text 134 312 ms;
#X floatatom 92 384 5 10 125 0 - - - 0;
#X text 134 385 Hz;
#X obj 92 476 v f_down;
#X obj 92 277 initmess 10;
#X floatatom 838 285 5 0 0 0 - - - 0;
#X obj 838 245 expr 1000./$f1;
#X floatatom 838 211 5 10 125 0 - - - 0;
#X text 877 210 ms;
#X obj 713 179 initmess 10;
#X obj 838 179 initmess 125;
#X text 813 284 up;
#X text 676 284 down;
#X text 36 35 When the slew limit is zero \, you have the same filter formula from before but you can set different parameters for when the signal is increasing or decreasing \, which is suited to implement a 'lag' control. Usually you want a lag time in ms \, so we just need to convert to frequency. Here's the simplification \, compare to the right., f 64;
#X obj 912 338 lag2~ 125 10;
#X obj 912 302 pulse~ 4;
#X obj 912 377 graph~ 10000 3 -0.025 1.025 200 140;
#X connect 2 0 18 3;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 6 0 18 0;
#X connect 7 0 12 0;
#X connect 8 0 24 0;
#X connect 10 0 15 0;
#X connect 11 0 10 0;
#X connect 12 0 23 0;
#X connect 13 0 11 0;
#X connect 15 0 7 0;
#X connect 18 0 5 0;
#X connect 24 1 9 0;
#X connect 25 0 28 0;
#X connect 26 0 30 0;
#X connect 27 0 26 0;
#X connect 28 0 32 0;
#X connect 30 0 25 0;
#X connect 33 0 27 0;
#X connect 34 0 18 5;
#X connect 35 0 34 0;
#X connect 36 0 35 0;
#X connect 38 0 4 0;
#X connect 39 0 36 0;
#X connect 43 0 45 0;
#X connect 44 0 43 0;
